2026/01/09 14:16:51 === GoPeep started at 2026-01-09T14:16:51+01:00 ===
2026/01/09 14:16:51 Received room code from server: LUCKY-RIVER-347
2026/01/09 14:16:51 InitializeTrackSlots: Creating 4 pre-allocated track slots with codec video/VP8
2026/01/09 14:16:51 InitializeTrackSlots: Created slot 0 (trackID=video0, streamID=gopeep-stream-0)
2026/01/09 14:16:51 InitializeTrackSlots: Created slot 1 (trackID=video1, streamID=gopeep-stream-1)
2026/01/09 14:16:51 InitializeTrackSlots: Created slot 2 (trackID=video2, streamID=gopeep-stream-2)
2026/01/09 14:16:51 InitializeTrackSlots: Created slot 3 (trackID=video3, streamID=gopeep-stream-3)
2026/01/09 14:16:51 InitializeTrackSlots: All 4 track slots ready
2026/01/09 14:16:51 Signal server starting on :8080
2026/01/09 14:16:52 Viewer joined room LUCKY-RIVER-347 (total viewers: 1)
2026/01/09 14:16:52 CreateOffer: Using pre-allocated slots (4 tracks)
2026/01/09 14:16:52 Peer viewer-1 connection state: connecting
2026/01/09 14:16:53 Peer viewer-1 connection state: connected
2026/01/09 14:17:01 Quick Share: Starting with window 312846 (Arc - Auto start)
2026/01/09 14:17:01 ActivateSlot: Activated video0 for window 312846 (Arc - Auto start)
2026/01/09 14:17:01 Broadcasting sharer-started to room LUCKY-RIVER-347
2026/01/09 14:17:01 Renegotiating with 1 peers
2026/01/09 14:17:01 Renegotiation: peer viewer-1 signaling state: stable
2026/01/09 14:17:01 Renegotiation: peer viewer-1 connection state: connected
2026/01/09 14:17:01 Focus detection loop started with 1 pipelines:
2026/01/09 14:17:01   - Track video0: windowID=312846, name=Auto start
2026/01/09 14:17:01 Renegotiation: ICE gathering complete for viewer-1
2026/01/09 14:17:01 Renegotiation: sending offer to peer viewer-1 (SDP length: 16892)
2026/01/09 14:17:01 Renegotiation: sending offer to peer viewer-1
2026/01/09 14:17:01 Renegotiation: sent streams-info with 1 tracks to peer viewer-1
2026/01/09 14:17:01 Viewer joined room LUCKY-RIVER-347 (total viewers: 1)
2026/01/09 14:17:01 CreateOffer: Using pre-allocated slots (4 tracks)
2026/01/09 14:17:02 Failed to add ICE candidate for viewer-2: InvalidStateError: remote description is not set
2026/01/09 14:17:02 Renegotiation: received answer from peer viewer-2, setting remote description
2026/01/09 14:17:02 Renegotiation: complete for peer viewer-2, signaling state: stable, connection state: new
2026/01/09 14:17:02 Peer viewer-2 connection state: connecting
2026/01/09 14:17:02 sendLoop: Writing frame 1 to track video0 (windowID=312846, streamID=gopeep-stream-0)
2026/01/09 14:17:02 Topmost captured window changed to: 312846 (was 0)
2026/01/09 14:17:02 Focus set to track=video0, windowID=312846, name=Auto start
2026/01/09 14:17:02 Calling NotifyFocusChange for track: video0
2026/01/09 14:17:02 NotifyFocusChange: callback exists, calling with trackID: video0
2026/01/09 14:17:02 Focus change callback triggered for track: video0
2026/01/09 14:17:02 Size change callback triggered for track video0: 2560x1409
2026/01/09 14:17:03 Peer viewer-2 connection state: connected
2026/01/09 14:17:05 sendLoop: Writing frame 101 to track video0 (windowID=312846, streamID=gopeep-stream-0)
2026/01/09 14:17:07 sendLoop: Writing frame 201 to track video0 (windowID=312846, streamID=gopeep-stream-0)
2026/01/09 14:17:07 Peer viewer-1 connection state: disconnected
2026/01/09 14:17:07 Peer viewer-1 connection state: closed
2026/01/09 14:17:07 TUI: Removing window 312846 for fullscreen switch
2026/01/09 14:17:07 Removing window dynamically: video0 (windowID=312846, fastPath=true)
2026/01/09 14:17:07 DeactivateSlot: Deactivated video0
2026/01/09 14:17:07 RemoveWindowDynamic: Notifying stream deactivated video0 (NO renegotiation)
2026/01/09 14:17:07 Broadcasting stream-deactivated: video0 (fast path)
2026/01/09 14:17:07 TUI: Adding display capture
2026/01/09 14:17:07 AddDisplayDynamic: Using fast path (pre-allocated slots)
2026/01/09 14:17:07 ActivateSlot: Activated video0 for window 0 (Display - Fullscreen)
2026/01/09 14:17:08 AddDisplayDynamic: Notifying stream activated video0 (NO renegotiation)
2026/01/09 14:17:08 Broadcasting stream-activated: video0 (fast path)
2026/01/09 14:17:08 Added display dynamically: video0 (fastPath=true)
2026/01/09 14:17:08 sendLoop: Writing frame 1 to track video0 (windowID=0, streamID=gopeep-stream-0)
2026/01/09 14:17:08 Size change callback triggered for track video0: 5120x1440
2026/01/09 14:17:11 sendLoop: Writing frame 101 to track video0 (windowID=0, streamID=gopeep-stream-0)
2026/01/09 14:17:14 sendLoop: Writing frame 201 to track video0 (windowID=0, streamID=gopeep-stream-0)
2026/01/09 14:17:15 TUI: Removing display (no sources selected)
2026/01/09 14:17:15 Removing window dynamically: video0 (windowID=0, fastPath=true)
2026/01/09 14:17:15 encodeLoop: Encode failed for track video0 (error #1): encoder not initialized
2026/01/09 14:17:15 DeactivateSlot: Deactivated video0
2026/01/09 14:17:15 RemoveWindowDynamic: Notifying stream deactivated video0 (NO renegotiation)
2026/01/09 14:17:15 Broadcasting stream-deactivated: video0 (fast path)
2026/01/09 14:17:16 TUI: Adding window dynamically: 312846 (Auto start)
2026/01/09 14:17:16 AddWindowDynamic: Using fast path (pre-allocated slots)
2026/01/09 14:17:16 ActivateSlot: Activated video0 for window 312846 (Arc - Auto start)
2026/01/09 14:17:17 AddWindowDynamic: Notifying stream activated video0 (NO renegotiation)
2026/01/09 14:17:17 Broadcasting stream-activated: video0 (fast path)
2026/01/09 14:17:17 Added window dynamically: video0 (windowID=312846, fastPath=true)
2026/01/09 14:17:17 sendLoop: Writing frame 1 to track video0 (windowID=312846, streamID=gopeep-stream-0)
2026/01/09 14:17:18 Size change callback triggered for track video0: 2560x1409
2026/01/09 14:17:19 TUI: Removing window 312846 for fullscreen switch
2026/01/09 14:17:19 Removing window dynamically: video0 (windowID=312846, fastPath=true)
2026/01/09 14:17:19 DeactivateSlot: Deactivated video0
2026/01/09 14:17:19 RemoveWindowDynamic: Notifying stream deactivated video0 (NO renegotiation)
2026/01/09 14:17:19 Broadcasting stream-deactivated: video0 (fast path)
2026/01/09 14:17:19 TUI: Adding display capture
2026/01/09 14:17:19 AddDisplayDynamic: Using fast path (pre-allocated slots)
2026/01/09 14:17:19 ActivateSlot: Activated video0 for window 0 (Display - Fullscreen)
2026/01/09 14:17:20 AddDisplayDynamic: Notifying stream activated video0 (NO renegotiation)
2026/01/09 14:17:20 Broadcasting stream-activated: video0 (fast path)
2026/01/09 14:17:20 Added display dynamically: video0 (fastPath=true)
2026/01/09 14:17:20 sendLoop: Writing frame 1 to track video0 (windowID=0, streamID=gopeep-stream-0)
2026/01/09 14:17:20 Size change callback triggered for track video0: 5120x1440
2026/01/09 14:17:23 sendLoop: Writing frame 101 to track video0 (windowID=0, streamID=gopeep-stream-0)
2026/01/09 14:17:26 sendLoop: Writing frame 201 to track video0 (windowID=0, streamID=gopeep-stream-0)
2026/01/09 14:17:27 Focus detection loop stopped
2026/01/09 14:17:27 Broadcasting stream-removed: video0
2026/01/09 14:17:27 Peer viewer-2 connection state: closed
