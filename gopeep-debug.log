2026/01/08 09:50:41 === GoPeep started at 2026-01-08T09:50:41+01:00 ===
2026/01/08 09:50:43 Signal server starting on :8080
2026/01/08 09:50:45 Focus detection loop started with 2 pipelines:
2026/01/08 09:50:45   - Track video0: windowID=318244, name=OpenCode
2026/01/08 09:50:45   - Track video1: windowID=317592, name=Scratch
2026/01/08 09:50:45 Topmost captured window changed to: 317592 (was 0)
2026/01/08 09:50:45 Focus set to track=video1, windowID=317592, name=Scratch
2026/01/08 09:50:45 Calling NotifyFocusChange for track: video1
2026/01/08 09:50:45 NotifyFocusChange: callback exists, calling with trackID: video1
2026/01/08 09:50:45 Focus change callback triggered for track: video1
2026/01/08 09:50:45 Viewer joined room FAIR-SHARK-31 (total viewers: 1)
2026/01/08 09:50:45 Peer viewer-1 connection state: connecting
2026/01/08 09:50:46 Peer viewer-1 connection state: connected
2026/01/08 09:50:51 SetCodec: Changing codec from vp8 to vp9
2026/01/08 09:50:51 Removed track video1 from peer viewer-1
2026/01/08 09:50:51 Removed track video0 from peer viewer-1
2026/01/08 09:50:51 AddTrackToAllPeers: Adding track video0 to 1 peer connections
2026/01/08 09:50:51 AddTrackToAllPeers: Adding track video0 to peer viewer-1 (state: connected)
2026/01/08 09:50:51 AddTrackToAllPeers: Successfully added track video0 to peer viewer-1
2026/01/08 09:50:51 AddTrackToAllPeers: Adding track video1 to 1 peer connections
2026/01/08 09:50:51 AddTrackToAllPeers: Adding track video1 to peer viewer-1 (state: connected)
2026/01/08 09:50:51 AddTrackToAllPeers: Successfully added track video1 to peer viewer-1
2026/01/08 09:50:51 SetCodec: Triggering renegotiation for 2 pipelines
2026/01/08 09:50:51 SetCodec: Successfully changed codec to vp9 with 2 pipelines
2026/01/08 09:50:51 Renegotiating with 1 peers
2026/01/08 09:50:51 Renegotiation: peer viewer-1 signaling state: stable
2026/01/08 09:50:51 Renegotiation: peer viewer-1 connection state: connected
2026/01/08 09:50:51 Renegotiation: ICE gathering complete for viewer-1
2026/01/08 09:50:51 Renegotiation: sending offer to peer viewer-1 (SDP length: 16488)
2026/01/08 09:50:51 Renegotiation: sending offer to peer viewer-1
2026/01/08 09:50:51 Renegotiation: received answer from peer viewer-1, setting remote description
2026/01/08 09:50:51 Renegotiation: complete for peer viewer-1, signaling state: stable, connection state: connected
2026/01/08 09:50:58 Topmost captured window changed to: 318244 (was 317592)
2026/01/08 09:50:58 Focus set to track=video0, windowID=318244, name=OpenCode
2026/01/08 09:50:58 Calling NotifyFocusChange for track: video0
2026/01/08 09:50:58 NotifyFocusChange: callback exists, calling with trackID: video0
2026/01/08 09:50:58 Focus change callback triggered for track: video0
2026/01/08 09:51:00 Topmost captured window changed to: 317592 (was 318244)
2026/01/08 09:51:00 Focus set to track=video1, windowID=317592, name=Scratch
2026/01/08 09:51:00 Calling NotifyFocusChange for track: video1
2026/01/08 09:51:00 NotifyFocusChange: callback exists, calling with trackID: video1
2026/01/08 09:51:00 Focus change callback triggered for track: video1
2026/01/08 09:51:04 SetCodec: Changing codec from vp9 to h264
2026/01/08 09:51:04 Removed track video0 from peer viewer-1
2026/01/08 09:51:04 Removed track video1 from peer viewer-1
2026/01/08 09:51:04 AddTrackToAllPeers: Adding track video0 to 1 peer connections
2026/01/08 09:51:04 AddTrackToAllPeers: Adding track video0 to peer viewer-1 (state: connected)
2026/01/08 09:51:04 AddTrackToAllPeers: Successfully added track video0 to peer viewer-1
2026/01/08 09:51:04 AddTrackToAllPeers: Adding track video1 to 1 peer connections
2026/01/08 09:51:04 AddTrackToAllPeers: Adding track video1 to peer viewer-1 (state: connected)
2026/01/08 09:51:04 AddTrackToAllPeers: Successfully added track video1 to peer viewer-1
2026/01/08 09:51:04 SetCodec: Triggering renegotiation for 2 pipelines
2026/01/08 09:51:04 SetCodec: Successfully changed codec to h264 with 2 pipelines
2026/01/08 09:51:04 Renegotiating with 1 peers
2026/01/08 09:51:04 Renegotiation: peer viewer-1 signaling state: stable
2026/01/08 09:51:04 Renegotiation: peer viewer-1 connection state: connected
2026/01/08 09:51:04 Renegotiation: ICE gathering complete for viewer-1
2026/01/08 09:51:04 Renegotiation: sending offer to peer viewer-1 (SDP length: 16488)
2026/01/08 09:51:04 Renegotiation: sending offer to peer viewer-1
2026/01/08 09:51:04 Renegotiation: received answer from peer viewer-1, setting remote description
2026/01/08 09:51:04 Renegotiation: complete for peer viewer-1, signaling state: stable, connection state: connected
2026/01/08 09:51:19 Track video0 bitrate set to 25000 kbps
2026/01/08 09:51:19 Track video1 bitrate set to 50000 kbps
2026/01/08 09:51:19 Streamer bitrate updated: focus=50000 kbps, bg=25000 kbps
2026/01/08 09:51:25 Track video0 FPS changed from 30 to 60
2026/01/08 09:51:25 Pipeline ticker updated to 60 FPS
2026/01/08 09:51:25 Track video1 FPS changed from 30 to 60
2026/01/08 09:51:25 Streamer FPS updated to 60
2026/01/08 09:51:25 Pipeline ticker updated to 60 FPS
2026/01/08 09:51:34 SetCodec: Changing codec from h264 to vp8
2026/01/08 09:51:34 Removed track video0 from peer viewer-1
2026/01/08 09:51:34 Removed track video1 from peer viewer-1
2026/01/08 09:51:34 AddTrackToAllPeers: Adding track video0 to 1 peer connections
2026/01/08 09:51:34 AddTrackToAllPeers: Adding track video0 to peer viewer-1 (state: connected)
2026/01/08 09:51:34 AddTrackToAllPeers: Successfully added track video0 to peer viewer-1
2026/01/08 09:51:34 AddTrackToAllPeers: Adding track video1 to 1 peer connections
2026/01/08 09:51:34 AddTrackToAllPeers: Adding track video1 to peer viewer-1 (state: connected)
2026/01/08 09:51:34 AddTrackToAllPeers: Successfully added track video1 to peer viewer-1
2026/01/08 09:51:34 SetCodec: Triggering renegotiation for 2 pipelines
2026/01/08 09:51:34 SetCodec: Successfully changed codec to vp8 with 2 pipelines
2026/01/08 09:51:34 Renegotiating with 1 peers
2026/01/08 09:51:34 Renegotiation: peer viewer-1 signaling state: stable
2026/01/08 09:51:34 Renegotiation: peer viewer-1 connection state: connected
2026/01/08 09:51:34 Renegotiation: ICE gathering complete for viewer-1
2026/01/08 09:51:34 Renegotiation: sending offer to peer viewer-1 (SDP length: 16484)
2026/01/08 09:51:34 Renegotiation: sending offer to peer viewer-1
2026/01/08 09:51:34 Renegotiation: received answer from peer viewer-1, setting remote description
2026/01/08 09:51:34 Renegotiation: complete for peer viewer-1, signaling state: stable, connection state: connected
2026/01/08 09:51:52 SetCodec: Changing codec from vp8 to vp9
2026/01/08 09:51:52 Removed track video0 from peer viewer-1
2026/01/08 09:51:52 Removed track video1 from peer viewer-1
2026/01/08 09:51:52 AddTrackToAllPeers: Adding track video0 to 1 peer connections
2026/01/08 09:51:52 AddTrackToAllPeers: Adding track video0 to peer viewer-1 (state: connected)
2026/01/08 09:51:52 AddTrackToAllPeers: Successfully added track video0 to peer viewer-1
2026/01/08 09:51:52 AddTrackToAllPeers: Adding track video1 to 1 peer connections
2026/01/08 09:51:52 AddTrackToAllPeers: Adding track video1 to peer viewer-1 (state: connected)
2026/01/08 09:51:52 AddTrackToAllPeers: Successfully added track video1 to peer viewer-1
2026/01/08 09:51:52 SetCodec: Triggering renegotiation for 2 pipelines
2026/01/08 09:51:52 SetCodec: Successfully changed codec to vp9 with 2 pipelines
2026/01/08 09:51:52 Renegotiating with 1 peers
2026/01/08 09:51:52 Renegotiation: peer viewer-1 signaling state: stable
2026/01/08 09:51:52 Renegotiation: peer viewer-1 connection state: connected
2026/01/08 09:51:52 Renegotiation: ICE gathering complete for viewer-1
2026/01/08 09:51:52 Renegotiation: sending offer to peer viewer-1 (SDP length: 16484)
2026/01/08 09:51:52 Renegotiation: sending offer to peer viewer-1
2026/01/08 09:51:52 Renegotiation: received answer from peer viewer-1, setting remote description
2026/01/08 09:51:52 Renegotiation: complete for peer viewer-1, signaling state: stable, connection state: connected
2026/01/08 09:51:56 Topmost captured window changed to: 318244 (was 317592)
2026/01/08 09:51:56 Focus set to track=video0, windowID=318244, name=OpenCode
2026/01/08 09:51:56 Calling NotifyFocusChange for track: video0
2026/01/08 09:51:56 NotifyFocusChange: callback exists, calling with trackID: video0
2026/01/08 09:51:56 Focus change callback triggered for track: video0
2026/01/08 09:52:13 Topmost captured window changed to: 317592 (was 318244)
2026/01/08 09:52:13 Focus set to track=video1, windowID=317592, name=Scratch
2026/01/08 09:52:13 Calling NotifyFocusChange for track: video1
2026/01/08 09:52:13 NotifyFocusChange: callback exists, calling with trackID: video1
2026/01/08 09:52:13 Focus change callback triggered for track: video1
2026/01/08 09:52:19 Topmost captured window changed to: 318244 (was 317592)
2026/01/08 09:52:19 Focus set to track=video0, windowID=318244, name=OpenCode
2026/01/08 09:52:19 Calling NotifyFocusChange for track: video0
2026/01/08 09:52:19 NotifyFocusChange: callback exists, calling with trackID: video0
2026/01/08 09:52:19 Focus change callback triggered for track: video0
2026/01/08 09:52:30 Topmost captured window changed to: 317592 (was 318244)
2026/01/08 09:52:30 Focus set to track=video1, windowID=317592, name=Scratch
2026/01/08 09:52:30 Calling NotifyFocusChange for track: video1
2026/01/08 09:52:30 NotifyFocusChange: callback exists, calling with trackID: video1
2026/01/08 09:52:30 Focus change callback triggered for track: video1
2026/01/08 09:52:34 TUI: Removing window dynamically: 317592
2026/01/08 09:52:34 Removing window dynamically: video1 (windowID=317592)
2026/01/08 09:52:34 Removed track video1 from peer viewer-1
2026/01/08 09:52:34 Broadcasting stream-removed: video1
2026/01/08 09:52:34 Renegotiating with 1 peers
2026/01/08 09:52:34 Renegotiation: peer viewer-1 signaling state: stable
2026/01/08 09:52:34 Renegotiation: peer viewer-1 connection state: connected
2026/01/08 09:52:34 Renegotiation: ICE gathering complete for viewer-1
2026/01/08 09:52:34 Renegotiation: sending offer to peer viewer-1 (SDP length: 16298)
2026/01/08 09:52:34 Renegotiation: sending offer to peer viewer-1
2026/01/08 09:52:34 Renegotiation: received answer from peer viewer-1, setting remote description
2026/01/08 09:52:34 Renegotiation: complete for peer viewer-1, signaling state: stable, connection state: connected
2026/01/08 09:52:34 Topmost captured window changed to: 318244 (was 317592)
2026/01/08 09:52:34 Focus set to track=video0, windowID=318244, name=OpenCode
2026/01/08 09:52:34 Calling NotifyFocusChange for track: video0
2026/01/08 09:52:34 NotifyFocusChange: callback exists, calling with trackID: video0
2026/01/08 09:52:34 Focus change callback triggered for track: video0
2026/01/08 09:52:35 Focus detection loop stopped
2026/01/08 09:52:38 Peer viewer-1 connection state: closed
2026/01/08 09:52:38 Signal server starting on :8080
2026/01/08 09:52:39 Focus detection loop started with 1 pipelines:
2026/01/08 09:52:39   - Track video0: windowID=317592, name=Scratch
2026/01/08 09:52:40 Topmost captured window changed to: 317592 (was 0)
2026/01/08 09:52:40 Focus set to track=video0, windowID=317592, name=Scratch
2026/01/08 09:52:40 Calling NotifyFocusChange for track: video0
2026/01/08 09:52:40 NotifyFocusChange: callback exists, calling with trackID: video0
2026/01/08 09:52:40 Focus change callback triggered for track: video0
2026/01/08 09:52:43 Focus detection loop stopped
